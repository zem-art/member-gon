import type { Product, ProductDetail, ProductVariant } from "../types";

// ─── Color & Size pools ─────────────────────────────────────────
const COLORS = ["Black", "White", "Navy", "Maroon", "Olive", "Dusty Pink", "Cream", "Grey"];
const SIZES_CLOTHING = ["S", "M", "L", "XL", "XXL"];
const SIZES_HIJAB = ["Square", "Pashmina", "Bergo"];
const SIZES_PRAYER = ["All Size"];

function getSizesForBrand(brand: string): string[] {
  const b = brand.toLowerCase();
  if (b.includes("jilbab")) return SIZES_HIJAB;
  if (b.includes("sajadah") || b.includes("mukena")) return SIZES_PRAYER;
  return SIZES_CLOTHING;
}

// ─── Generate mock variants ─────────────────────────────────────
function generateVariants(product: Product): ProductVariant[] {
  const sizes = getSizesForBrand(product.brand);
  // Pick 2-4 random colors
  const numColors = 2 + Math.floor(Math.abs(hashCode(product._id)) % 3);
  const shuffled = [...COLORS].sort(() => hashCode(product._id + "c") % 2 - 0.5);
  const colors = shuffled.slice(0, numColors);

  const variants: ProductVariant[] = [];
  for (const color of colors) {
    for (const size of sizes) {
      const hash = Math.abs(hashCode(product._id + color + size));
      const stock = hash % 15;
      const priceVariation = (hash % 5) * 10000; // ±0‒40k
      variants.push({
        sku: `${product._id}-${color.toUpperCase().replace(/\s/g, "")}-${size}`,
        color,
        size,
        stock,
        price: product.price_min + priceVariation,
      });
    }
  }
  return variants;
}

/** Simple string hash for deterministic mock data */
function hashCode(s: string): number {
  let h = 0;
  for (let i = 0; i < s.length; i++) {
    h = (Math.imul(31, h) + s.charCodeAt(i)) | 0;
  }
  return h;
}

// ─── Generate mock ProductDetail ────────────────────────────────
const DESCRIPTIONS: Record<string, string> = {
  default:
    "Produk berkualitas tinggi dengan bahan pilihan. Nyaman dipakai sehari-hari untuk berbagai aktivitas. Tersedia dalam beberapa pilihan warna dan ukuran.",
};

export function generateMockDetail(product: Product): ProductDetail {
  const variants = generateVariants(product);
  return {
    ...product,
    description:
      product.description ||
      `${product.name_product} — ${DESCRIPTIONS.default} Brand: ${product.brand}.`,
    images: [
      product.thumbnail,
      // Generate a few more "gallery" images using unsplash random
      product.thumbnail + "&w=800",
      product.thumbnail + "&w=600",
    ],
    variants,
  };
}

// ─── Static products list ───────────────────────────────────────
export const PRODUCTS: Product[] = [
  {
    _id: "KAA090",
    product_id: "KAA090",
    name_product: "STARLA SQUARE",
    thumbnail: "https://nibras-web.sgp1.digitaloceanspaces.com/gon-old/01_All_Starla.jpg",
    stock: 11,
    brand: "jilbab nibras",
    price_min: 39000,
    price_max: 49000,
  },
  {
    _id: "BCG011",
    product_id: "BCG011",
    name_product: "CARINA KOKO",
    thumbnail: "https://nibras-web.sgp1.digitaloceanspaces.com/gon-old/CARINA_ARMY_1.jpeg",
    stock: 1,
    brand: "nbrs",
    price_min: 178000,
    price_max: 218000,
  },
  {
    _id: "HJB001",
    product_id: "HJB001",
    name_product: "HIJAB PASHMINA PREMIUM",
    thumbnail: "https://images.unsplash.com/photo-1590073242678-70ee3fc28e8e?q=80&w=400&auto=format&fit=crop",
    stock: 25,
    brand: "nibras",
    price_min: 89000,
    price_max: 129000,
  },
  {
    _id: "ABY002",
    product_id: "ABY002",
    name_product: "ABAYA DRESS BLACK ELEGANT",
    thumbnail: "https://images.unsplash.com/photo-1618354691373-d851c5c3a990?q=80&w=400&auto=format&fit=crop",
    stock: 8,
    brand: "nbrs kids",
    price_min: 350000,
    price_max: 390000,
  },
  {
    _id: "THB003",
    product_id: "THB003",
    name_product: "MEN'S THOBE WHITE CLASSIC",
    thumbnail: "https://images.unsplash.com/photo-1564468781192-27b8b1563d33?q=80&w=400&auto=format&fit=crop",
    stock: 15,
    brand: "nbrs",
    price_min: 275000,
    price_max: 315000,
  },
  {
    _id: "DRS004",
    product_id: "DRS004",
    name_product: "MODEST MAXI DRESS SAGE",
    thumbnail: "https://images.unsplash.com/photo-1595777457583-95e059d581b8?q=80&w=400&auto=format&fit=crop",
    stock: 12,
    brand: "nibras",
    price_min: 299000,
    price_max: 339000,
  },
  {
    _id: "HJB005",
    product_id: "HJB005",
    name_product: "LUXURY SILK HIJAB",
    thumbnail: "https://images.unsplash.com/photo-1611042553365-9b101441c135?q=80&w=400&auto=format&fit=crop",
    stock: 30,
    brand: "jilbab nibras",
    price_min: 125000,
    price_max: 145000,
  },
  {
    _id: "KFT006",
    product_id: "KFT006",
    name_product: "KAFTAN EMBROIDERED GOLD",
    thumbnail: "https://images.unsplash.com/photo-1553830591-2f39e38a013c?q=80&w=400&auto=format&fit=crop",
    stock: 5,
    brand: "nibras",
    price_min: 450000,
    price_max: 490000,
  },
  {
    _id: "TNC007",
    product_id: "TNC007",
    name_product: "MODEST TUNIC BLOUSE",
    thumbnail: "https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?q=80&w=400&auto=format&fit=crop",
    stock: 18,
    brand: "nbrs",
    price_min: 185000,
    price_max: 225000,
  },
  {
    _id: "PW008",
    product_id: "PW008",
    name_product: "KHIMAR PRAYER SET",
    thumbnail: "https://images.unsplash.com/photo-1622434641406-a158123450f9?q=80&w=400&auto=format&fit=crop",
    stock: 7,
    brand: "nibras",
    price_min: 225000,
    price_max: 265000,
  },
  {
    _id: "DRS009",
    product_id: "DRS009",
    name_product: "GAMIS SYAR'I DUSTY PINK",
    thumbnail: "https://images.unsplash.com/photo-1596783074918-c84cb06531ca?q=80&w=400&auto=format&fit=crop",
    stock: 14,
    brand: "nibras",
    price_min: 320000,
    price_max: 360000,
  },
  {
    _id: "HJB010",
    product_id: "HJB010",
    name_product: "HIJAB VOAL PREMIUM",
    thumbnail: "https://images.unsplash.com/photo-1586105251261-72a756497a11?q=80&w=400&auto=format&fit=crop",
    stock: 40,
    brand: "jilbab nibras",
    price_min: 75000,
    price_max: 95000,
  },
  {
    _id: "ABY011",
    product_id: "ABY011",
    name_product: "ABAYA BUTTERFLY NAVY",
    thumbnail: "https://images.unsplash.com/photo-1614252369475-531eba835eb1?q=80&w=400&auto=format&fit=crop",
    stock: 6,
    brand: "nbrs",
    price_min: 399000,
    price_max: 439000,
  },
  {
    _id: "THB012",
    product_id: "THB012",
    name_product: "KURTA LINEN BEIGE",
    thumbnail: "https://images.unsplash.com/photo-1594938298603-c8148c4dae35?q=80&w=400&auto=format&fit=crop",
    stock: 9,
    brand: "nbrs",
    price_min: 245000,
    price_max: 285000,
  },
  {
    _id: "TNC013",
    product_id: "TNC013",
    name_product: "OUTER CARDIGAN LONG",
    thumbnail: "https://images.unsplash.com/photo-1591047139829-d91aecb6caea?q=80&w=400&auto=format&fit=crop",
    stock: 20,
    brand: "nibras",
    price_min: 179000,
    price_max: 219000,
  },
  {
    _id: "PW014",
    product_id: "PW014",
    name_product: "MUKENA TRAVEL SET",
    thumbnail: "https://images.unsplash.com/photo-1609709295948-17d77cb2a69b?q=80&w=400&auto=format&fit=crop",
    stock: 10,
    brand: "nibras",
    price_min: 265000,
    price_max: 305000,
  },
  {
    _id: "KFT015",
    product_id: "KFT015",
    name_product: "KAFTAN MOROCCAN BLUE",
    thumbnail: "https://images.unsplash.com/photo-1558171813-4c088753af8f?q=80&w=400&auto=format&fit=crop",
    stock: 3,
    brand: "nibras",
    price_min: 475000,
    price_max: 515000,
  },
  {
    _id: "HJB016",
    product_id: "HJB016",
    name_product: "HIJAB JERSEY SPORT",
    thumbnail: "https://images.unsplash.com/photo-1517841905240-472988babdf9?q=80&w=400&auto=format&fit=crop",
    stock: 35,
    brand: "jilbab nibras",
    price_min: 65000,
    price_max: 85000,
  },
  {
    _id: "DRS017",
    product_id: "DRS017",
    name_product: "DRESS MAXI FLORAL",
    thumbnail: "https://images.unsplash.com/photo-1572804013309-59a88b7e92f1?q=80&w=400&auto=format&fit=crop",
    stock: 11,
    brand: "nibras",
    price_min: 310000,
    price_max: 350000,
  },
  {
    _id: "ABY018",
    product_id: "ABY018",
    name_product: "ABAYA OPEN FRONT MAROON",
    thumbnail: "https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?q=80&w=400&auto=format&fit=crop",
    stock: 4,
    brand: "nbrs",
    price_min: 375000,
    price_max: 415000,
  },
  {
    _id: "THB019",
    product_id: "THB019",
    name_product: "THOBE JUBBA BROWN",
    thumbnail: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=400&auto=format&fit=crop",
    stock: 7,
    brand: "nbrs",
    price_min: 290000,
    price_max: 330000,
  },
  {
    _id: "TNC020",
    product_id: "TNC020",
    name_product: "TUNIC OVERSIZE OLIVE",
    thumbnail: "https://images.unsplash.com/photo-1434389677669-e08b4cda3f0a?q=80&w=400&auto=format&fit=crop",
    stock: 16,
    brand: "nibras",
    price_min: 195000,
    price_max: 235000,
  },
  {
    _id: "PW021",
    product_id: "PW021",
    name_product: "SAJADAH TRAVEL PREMIUM",
    thumbnail: "https://images.unsplash.com/photo-1585036156171-384164a8c696?q=80&w=400&auto=format&fit=crop",
    stock: 22,
    brand: "nibras",
    price_min: 155000,
    price_max: 195000,
  },
  {
    _id: "KFT022",
    product_id: "KFT022",
    name_product: "KAFTAN SILK EMERALD",
    thumbnail: "https://images.unsplash.com/photo-1490481651871-ab68de25d43d?q=80&w=400&auto=format&fit=crop",
    stock: 2,
    brand: "nibras",
    price_min: 520000,
    price_max: 560000,
  },
  {
    _id: "HJB023",
    product_id: "HJB023",
    name_product: "HIJAB INSTAN BERGO",
    thumbnail: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=400&auto=format&fit=crop",
    stock: 45,
    brand: "jilbab nibras",
    price_min: 55000,
    price_max: 75000,
  },
  {
    _id: "DRS024",
    product_id: "DRS024",
    name_product: "GAMIS A-LINE CREAM",
    thumbnail: "https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?q=80&w=400&auto=format&fit=crop",
    stock: 13,
    brand: "nibras",
    price_min: 285000,
    price_max: 325000,
  },
  {
    _id: "ABY025",
    product_id: "ABY025",
    name_product: "ABAYA SATIN HITAM PREMIUM",
    thumbnail: "https://images.unsplash.com/photo-1509631179647-0177331693ae?q=80&w=400&auto=format&fit=crop",
    stock: 5,
    brand: "nbrs",
    price_min: 425000,
    price_max: 465000,
  },
  {
    _id: "HJB026",
    product_id: "HJB026",
    name_product: "HIJAB SEGI EMPAT MOTIF",
    thumbnail: "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?q=80&w=400&auto=format&fit=crop",
    stock: 50,
    brand: "jilbab nibras",
    price_min: 49000,
    price_max: 69000,
  },
  {
    _id: "THB027",
    product_id: "THB027",
    name_product: "THOBE LINEN ABU-ABU",
    thumbnail: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=400&auto=format&fit=crop",
    stock: 8,
    brand: "nbrs",
    price_min: 310000,
    price_max: 350000,
  },
  {
    _id: "DRS028",
    product_id: "DRS028",
    name_product: "DRESS PLISKET PASTEL",
    thumbnail: "https://images.unsplash.com/photo-1539008835657-9e8ed9990593?q=80&w=400&auto=format&fit=crop",
    stock: 19,
    brand: "nibras",
    price_min: 265000,
    price_max: 305000,
  },
  {
    _id: "KFT029",
    product_id: "KFT029",
    name_product: "KAFTAN DAILY CRINKLE",
    thumbnail: "https://images.unsplash.com/photo-1475180098004-ca77a66827be?q=80&w=400&auto=format&fit=crop",
    stock: 14,
    brand: "nibras",
    price_min: 199000,
    price_max: 239000,
  },
  {
    _id: "TNC030",
    product_id: "TNC030",
    name_product: "TUNIC LINEN NATURAL",
    thumbnail: "https://images.unsplash.com/photo-1485968579580-b6d095142e6e?q=80&w=400&auto=format&fit=crop",
    stock: 10,
    brand: "nibras",
    price_min: 215000,
    price_max: 255000,
  },
  {
    _id: "PW031",
    product_id: "PW031",
    name_product: "MUKENA KATUN JEPANG",
    thumbnail: "https://images.unsplash.com/photo-1496747611176-843222e1e57c?q=80&w=400&auto=format&fit=crop",
    stock: 12,
    brand: "nibras",
    price_min: 189000,
    price_max: 229000,
  },
  {
    _id: "HJB032",
    product_id: "HJB032",
    name_product: "HIJAB ORGANZA SHIMMER",
    thumbnail: "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?q=80&w=400&auto=format&fit=crop",
    stock: 28,
    brand: "jilbab nibras",
    price_min: 95000,
    price_max: 115000,
  },
  {
    _id: "ABY033",
    product_id: "ABY033",
    name_product: "ABAYA BORDIR TANGAN",
    thumbnail: "https://images.unsplash.com/photo-1469334031218-e382a71b716b?q=80&w=400&auto=format&fit=crop",
    stock: 3,
    brand: "nibras",
    price_min: 550000,
    price_max: 590000,
  },
  {
    _id: "DRS034",
    product_id: "DRS034",
    name_product: "GAMIS WOLFIS COKLAT",
    thumbnail: "https://images.unsplash.com/photo-1502716119720-b23a1e3f2c55?q=80&w=400&auto=format&fit=crop",
    stock: 17,
    brand: "nibras",
    price_min: 245000,
    price_max: 285000,
  },
  {
    _id: "THB035",
    product_id: "THB035",
    name_product: "THOBE PAKISTAN PUTIH",
    thumbnail: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=400&auto=format&fit=crop",
    stock: 6,
    brand: "nbrs",
    price_min: 335000,
    price_max: 375000,
  },
  {
    _id: "KFT036",
    product_id: "KFT036",
    name_product: "KAFTAN BROKAT MEWAH",
    thumbnail: "https://images.unsplash.com/photo-1487222477894-8943e31ef7b2?q=80&w=400&auto=format&fit=crop",
    stock: 2,
    brand: "nibras",
    price_min: 625000,
    price_max: 665000,
  },
  {
    _id: "HJB037",
    product_id: "HJB037",
    name_product: "HIJAB CRINKLE AIRFLOW",
    thumbnail: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=400&auto=format&fit=crop",
    stock: 55,
    brand: "jilbab nibras",
    price_min: 42000,
    price_max: 62000,
  },
  {
    _id: "TNC038",
    product_id: "TNC038",
    name_product: "TUNIC RAYON STRIPE",
    thumbnail: "https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=400&auto=format&fit=crop",
    stock: 21,
    brand: "nibras",
    price_min: 165000,
    price_max: 205000,
  },
  {
    _id: "PW039",
    product_id: "PW039",
    name_product: "SAJADAH BULU PREMIUM",
    thumbnail: "https://images.unsplash.com/photo-1492106087820-71f1a00d2b11?q=80&w=400&auto=format&fit=crop",
    stock: 15,
    brand: "nibras",
    price_min: 175000,
    price_max: 215000,
  },
  {
    _id: "ABY040",
    product_id: "ABY040",
    name_product: "ABAYA KIMONO TOSCA",
    thumbnail: "https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?q=80&w=400&auto=format&fit=crop",
    stock: 4,
    brand: "nbrs",
    price_min: 365000,
    price_max: 405000,
  },
  {
    _id: "DRS041",
    product_id: "DRS041",
    name_product: "DRESS CERUTI BABYDOLL",
    thumbnail: "https://images.unsplash.com/photo-1581044777550-4cfa60707998?q=80&w=400&auto=format&fit=crop",
    stock: 9,
    brand: "nibras",
    price_min: 278000,
    price_max: 318000,
  },
  {
    _id: "HJB042",
    product_id: "HJB042",
    name_product: "HIJAB DIAMOND ITALIANO",
    thumbnail: "https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?q=80&w=400&auto=format&fit=crop",
    stock: 32,
    brand: "jilbab nibras",
    price_min: 110000,
    price_max: 130000,
  },
  {
    _id: "THB043",
    product_id: "THB043",
    name_product: "THOBE EMIRATI PREMIUM",
    thumbnail: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=400&auto=format&fit=crop",
    stock: 5,
    brand: "nbrs",
    price_min: 425000,
    price_max: 465000,
  },
  {
    _id: "KFT044",
    product_id: "KFT044",
    name_product: "KAFTAN VELVET BURGUNDY",
    thumbnail: "https://images.unsplash.com/photo-1495385794356-15371f348c31?q=80&w=400&auto=format&fit=crop",
    stock: 3,
    brand: "nibras",
    price_min: 499000,
    price_max: 539000,
  },
  {
    _id: "TNC045",
    product_id: "TNC045",
    name_product: "TUNIC COTTON OVERSIZE",
    thumbnail: "https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?q=80&w=400&auto=format&fit=crop",
    stock: 24,
    brand: "nibras",
    price_min: 145000,
    price_max: 185000,
  },
  {
    _id: "PW046",
    product_id: "PW046",
    name_product: "MUKENA PARASUT TRAVEL",
    thumbnail: "https://images.unsplash.com/photo-1464863979621-258859e62245?q=80&w=400&auto=format&fit=crop",
    stock: 18,
    brand: "nibras",
    price_min: 135000,
    price_max: 175000,
  },
  {
    _id: "ABY047",
    product_id: "ABY047",
    name_product: "ABAYA JERSEY STRETCH",
    thumbnail: "https://images.unsplash.com/photo-1499952127939-9bbf5af6c51c?q=80&w=400&auto=format&fit=crop",
    stock: 11,
    brand: "nbrs",
    price_min: 299000,
    price_max: 339000,
  },
  {
    _id: "DRS048",
    product_id: "DRS048",
    name_product: "GAMIS SET KHIMAR MINT",
    thumbnail: "https://images.unsplash.com/photo-1479936343636-73cdc5aae0c3?q=80&w=400&auto=format&fit=crop",
    stock: 7,
    brand: "nibras",
    price_min: 385000,
    price_max: 425000,
  },
  {
    _id: "HJB049",
    product_id: "HJB049",
    name_product: "HIJAB PASHMINA CERUTY",
    thumbnail: "https://images.unsplash.com/photo-1521566652839-697aa473761a?q=80&w=400&auto=format&fit=crop",
    stock: 38,
    brand: "jilbab nibras",
    price_min: 78000,
    price_max: 98000,
  },
  {
    _id: "KFT050",
    product_id: "KFT050",
    name_product: "KAFTAN EXCLUSIVE PEARL",
    thumbnail: "https://images.unsplash.com/photo-1504703395950-b89145a5425b?q=80&w=400&auto=format&fit=crop",
    stock: 1,
    brand: "nibras",
    price_min: 750000,
    price_max: 790000,
  },
];
